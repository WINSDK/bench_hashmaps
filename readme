Benchmarking different hashmap implantations.
Uses macos arm specific performance counters and perf on linux.

How to build:
    cmake -G Ninja -DCMAKE_BUILD_TYPE=Release -S . -B build
    cmake --build build

## Results

Lookups grouped by N where
* rows = different hashmap implementation  
* cols = batch
* cell = cycles/branch hit rate%

Tested on:
* CPU: Intel Core i7-7700 @ 3.60GHz
* Cores/threads: 4 cores / 8 threads
* L3 cache: 8 MB
* No cpu pinning :(

-----------------------------------------------------------------------------------

                                      Spare elements

                                     N = 256 (1 << 8)
+--------+---------+--------+--------+--------+--------+--------+--------+--------+
| kind   |       1 |      2 |      4 |      8 |     16 |     32 |     64 |    128 |
+--------+---------+--------+--------+--------+--------+--------+--------+--------+
| boost  | 14/100  | 13/100 | 12/100 | 12/100 | 11/100 | 12/100 | 12/100 | 11/100 |
| twoway | 53/100  | 50/100 | 49/80  | 48/80  | 47/80  | 46/100 | 45/100 | 45/100 |
| absl   | 15/100  | 13/100 | 11/100 | 11/100 | 11/100 | 10/100 | 10/100 | 11/100 |
| std    | 35/100  | 30/100 | 28/100 | 27/100 | 27/100 | 27/100 | 27/100 | 27/100 |
| flat   | 151/80  | 160/80 | 152/80 | 148/80 | 145/80 | 144/80 | 143/80 | 143/80 |
+--------+---------+--------+--------+--------+--------+--------+--------+--------+

                                     N = 1024 (1 << 10)
+--------+---------+--------+--------+--------+--------+--------+--------+--------+
| kind   |       1 |      2 |      4 |      8 |     16 |     32 |     64 |    128 |
+--------+---------+--------+--------+--------+--------+--------+--------+--------+
| boost  | 15/100  | 13/100 | 12/100 | 12/100 | 12/100 | 12/100 | 12/100 | 12/100 |
| twoway | 54/100  | 52/83  | 52/80  | 51/80  | 49/80  | 48/80  | 47/80  | 47/100 |
| absl   | 15/100  | 13/100 | 11/100 | 11/100 | 10/100 | 10/100 | 10/100 | 11/100 |
| std    | 35/100  | 30/100 | 28/100 | 27/100 | 27/100 | 27/100 | 27/100 | 27/100 |
| flat   | 194/80  | 203/75 | 195/75 | 191/75 | 189/75 | 188/79 | 187/79 | 187/79 |
+--------+---------+--------+--------+--------+--------+--------+--------+--------+

                                     N = 4096 (1 << 12)
+--------+---------+--------+--------+--------+--------+--------+--------+--------+
| kind   |       1 |      2 |      4 |      8 |     16 |     32 |     64 |    128 |
+--------+---------+--------+--------+--------+--------+--------+--------+--------+
| boost  | 16/100  | 13/100 | 12/100 | 12/100 | 11/100 | 12/100 | 12/100 | 11/100 |
| twoway | 52/100  | 49/100 | 48/100 | 49/100 | 47/100 | 46/100 | 45/100 | 45/100 |
| absl   | 16/100  | 14/100 | 13/100 | 12/100 | 12/100 | 11/100 | 11/100 | 12/100 |
| std    | 36/100  | 31/100 | 29/100 | 29/100 | 28/100 | 28/100 | 29/100 | 28/100 |
| flat   | 232/75  | 241/75 | 233/75 | 229/75 | 227/75 | 226/75 | 226/75 | 226/75 |
+--------+---------+--------+--------+--------+--------+--------+--------+--------+

                                     N = 16384 (1 << 14)
+--------+---------+--------+--------+--------+--------+--------+--------+--------+
| kind   |       1 |      2 |      4 |      8 |     16 |     32 |     64 |    128 |
+--------+---------+--------+--------+--------+--------+--------+--------+--------+
| boost  | 21/100  | 18/100 | 17/100 | 16/100 | 16/100 | 16/100 | 16/100 | 15/100 |
| twoway | 70/100  | 67/83  | 67/80  | 65/80  | 63/80  | 62/80  | 61/80  | 61/100 |
| absl   | 21/100  | 18/100 | 17/100 | 16/100 | 15/100 | 15/100 | 15/100 | 15/100 |
| std    | 41/100  | 36/100 | 36/100 | 35/100 | 35/100 | 35/100 | 35/100 | 35/100 |
| flat   | 294/75  | 302/75 | 294/75 | 290/75 | 289/75 | 288/75 | 287/75 | 287/75 |
+--------+---------+--------+--------+--------+--------+--------+--------+--------+

                                     N = 65536 (1 << 16)
+--------+---------+--------+--------+--------+--------+--------+--------+--------+
| kind   |       1 |      2 |      4 |      8 |     16 |     32 |     64 |    128 |
+--------+---------+--------+--------+--------+--------+--------+--------+--------+
| boost  | 25/100  | 21/100 | 19/100 | 19/100 | 18/100 | 18/100 | 18/100 | 18/100 |
| twoway | 61/100  | 57/100 | 56/100 | 57/100 | 55/100 | 54/100 | 53/100 | 53/100 |
| absl   | 27/100  | 21/100 | 19/100 | 19/100 | 19/100 | 19/100 | 18/100 | 18/100 |
| std    | 49/100  | 40/100 | 39/100 | 39/100 | 39/100 | 38/100 | 39/100 | 38/100 |
| flat   | 423/75  | 431/75 | 424/75 | 420/75 | 418/75 | 417/75 | 416/75 | 416/75 |
+--------+---------+--------+--------+--------+--------+--------+--------+--------+


-----------------------------------------------------------------------------------

                                   Dense set of elements

                                     N = 256 (1 << 8)
+--------+---------+--------+--------+--------+--------+--------+--------+--------+
| kind   |       1 |      2 |      4 |      8 |     16 |     32 |     64 |    128 |
+--------+---------+--------+--------+--------+--------+--------+--------+--------+
| boost  | 14/100  | 13/100 | 12/100 | 11/100 | 11/100 | 12/100 | 11/100 | 11/100 |
| twoway | 13/100  | 12/100 | 10/100 | 10/100 | 10/100 | 10/100 | 10/100 | 10/100 |
| absl   | 15/100  | 13/100 | 11/100 | 11/100 | 10/100 | 10/100 | 10/100 | 11/100 |
| std    | 35/100  | 30/100 | 28/100 | 27/100 | 27/100 | 27/100 | 27/100 | 27/100 |
| flat   | 34/100  | 30/100 | 28/100 | 27/100 | 26/100 | 25/100 | 26/100 | 25/100 |
+--------+---------+--------+--------+--------+--------+--------+--------+--------+

                                     N = 1024 (1 << 10)
+--------+---------+--------+--------+--------+--------+--------+--------+--------+
| kind   |       1 |      2 |      4 |      8 |     16 |     32 |     64 |    128 |
+--------+---------+--------+--------+--------+--------+--------+--------+--------+
| boost  | 15/100  | 13/100 | 12/100 | 12/100 | 12/100 | 12/100 | 12/100 | 12/100 |
| twoway | 15/100  | 13/100 | 12/100 | 11/100 | 10/100 | 10/100 | 10/100 | 10/100 |
| absl   | 15/100  | 13/100 | 12/100 | 11/100 | 11/100 | 11/100 | 10/100 | 11/100 |
| std    | 34/100  | 30/100 | 28/100 | 27/100 | 27/100 | 27/100 | 27/100 | 27/100 |
| flat   | 134/88  | 133/87 | 133/87 | 132/87 | 129/87 | 128/87 | 127/87 | 127/87 |
+--------+---------+--------+--------+--------+--------+--------+--------+--------+

                                     N = 4096 (1 << 12)
+--------+---------+--------+--------+--------+--------+--------+--------+--------+
| kind   |       1 |      2 |      4 |      8 |     16 |     32 |     64 |    128 |
+--------+---------+--------+--------+--------+--------+--------+--------+--------+
| boost  | 17/100  | 14/100 | 13/100 | 12/100 | 12/100 | 13/100 | 12/100 | 12/100 |
| twoway | 42/100  | 39/100 | 38/100 | 39/100 | 35/100 | 34/100 | 33/100 | 33/100 |
| absl   | 17/100  | 14/100 | 13/100 | 12/100 | 12/100 | 12/100 | 12/100 | 12/100 |
| std    | 34/100  | 30/100 | 28/100 | 27/100 | 27/100 | 27/100 | 27/100 | 27/100 |
| flat   | 153/86  | 150/85 | 154/85 | 156/85 | 151/85 | 149/85 | 148/85 | 148/85 |
+--------+---------+--------+--------+--------+--------+--------+--------+--------+

                                     N = 16384 (1 << 14)
+--------+---------+--------+--------+--------+--------+--------+--------+--------+
| kind   |       1 |      2 |      4 |      8 |     16 |     32 |     64 |    128 |
+--------+---------+--------+--------+--------+--------+--------+--------+--------+
| boost  | 23/100  | 20/100 | 18/100 | 17/100 | 17/100 | 18/100 | 17/100 | 17/100 |
| twoway | 62/100  | 59/100 | 59/100 | 58/100 | 56/100 | 55/100 | 53/100 | 54/100 |
| absl   | 21/100  | 18/100 | 17/100 | 16/100 | 16/100 | 17/100 | 16/100 | 16/100 |
| std    | 35/100  | 30/100 | 28/100 | 27/100 | 27/100 | 27/100 | 27/100 | 27/100 |
| flat   | 145/90  | 143/90 | 149/87 | 151/87 | 156/87 | 156/87 | 142/90 | 141/90 |
+--------+---------+--------+--------+--------+--------+--------+--------+--------+

                                     N = 65536 (1 << 16)
+--------+---------+--------+--------+--------+--------+--------+--------+--------+
| kind   |       1 |      2 |      4 |      8 |     16 |     32 |     64 |    128 |
+--------+---------+--------+--------+--------+--------+--------+--------+--------+
| boost  | 28/100  | 21/100 | 19/100 | 19/100 | 18/100 | 19/100 | 19/100 | 18/100 |
| twoway | 56/100  | 54/100 | 53/100 | 54/100 | 52/100 | 51/100 | 50/100 | 50/100 |
| absl   | 26/100  | 21/100 | 19/100 | 19/100 | 18/100 | 19/100 | 18/100 | 18/100 |
| std    | 36/100  | 30/100 | 28/100 | 28/100 | 27/100 | 27/100 | 27/100 | 27/100 |
| flat   | 144/91  | 144/91 | 150/91 | 150/88 | 144/91 | 141/91 | 141/91 | 140/91 |
+--------+---------+--------+--------+--------+--------+--------+--------+--------+
